<app-header-front></app-header-front>
<div class="py-3 bg-primary bg-pattern mb-4">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="text-center text-white">
                    <span class="heading-xxs letter-spacing-xl">
                        Your ride, your comfort, your choice with SpeedyGo!
                    </span>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container mt-4">
  <div class="card shadow-lg p-4">
    <h2 class="text-primary text-center mb-4">Vehicule Add</h2>
  <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">
    <div class="form-group mb-3">
      <label for="brand">Brand</label>
      <input id="brand" formControlName="brand" class="form-control">
      <div *ngIf="vehicleForm.get('brand')?.touched && vehicleForm.get('brand')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('brand')?.errors?.['required']">Brand is required.</small>
        <small *ngIf="vehicleForm.get('brand')?.errors?.['pattern']">Only letters are allowed.</small>
        <small *ngIf="vehicleForm.get('brand')?.errors?.['maxLength']">Max 20 characters allowed.</small>
      </div>
    </div>
    <div class="form-group mb-3">
      <label for="model">Model</label>
      <input id="model" formControlName="model" class="form-control">
      <div *ngIf="vehicleForm.get('model')?.touched && vehicleForm.get('model')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('model')?.errors?.['required']">Model is required.</small>
        <small *ngIf="vehicleForm.get('model')?.errors?.['pattern']">Only letters, numbers, and spaces allowed.</small>
        <small *ngIf="vehicleForm.get('model')?.errors?.['maxLength']">Max 20 characters allowed.</small>
      </div>
    </div>
    <div class="form-group mb-3">
      <label for="capacity" class="form-label fw-bold">Capacity</label>
      <input id="capacity" type="number" formControlName="capacity" class="form-control rounded" required>
      <div *ngIf="vehicleForm.get('capacity')?.touched && vehicleForm.get('capacity')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('capacity')?.errors?.['required']">Capacity is required.</small>
        <small *ngIf="vehicleForm.get('capacity')?.errors?.['pattern']">Only numbers allowed.</small>
        <small *ngIf="vehicleForm.get('capacity')?.errors?.['min']">Minimum capacity is 1.</small>
        <small *ngIf="vehicleForm.get('capacity')?.errors?.['max']">Capacity too high.</small>
      </div>
    </div>
    <div class="form-group mb-3">
      <label for="licensePlate">License Plate</label>
      <input id="licensePlate" formControlName="licensePlate" class="form-control">
      <div *ngIf="vehicleForm.get('licensePlate')?.touched && vehicleForm.get('licensePlate')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('licensePlate')?.errors?.['required']">License plate is required.</small>
        <small *ngIf="vehicleForm.get('licensePlate')?.errors?.['pattern']">Only uppercase letters, numbers, and dashes allowed.</small>
        <small *ngIf="vehicleForm.get('licensePlate')?.errors?.['maxLength']">Max 10 characters allowed.</small>
      </div>
    </div>
    <div class="form-group mb-3">
      <label for="vin">VIN</label>
      <input id="vin" formControlName="vin" class="form-control">
      <div *ngIf="vehicleForm.get('vin')?.touched && vehicleForm.get('vin')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('vin')?.errors?.['required']">VIN is required.</small>
        <small *ngIf="vehicleForm.get('vin')?.errors?.['pattern']">VIN must be exactly 17 characters (letters & numbers).</small>
      </div>
    </div>
    <div class="form-group mb-3">
      <label for="fabricationDate">Fabrication Date</label>
      <input id="fabricationDate" type="date" formControlName="fabricationDate" class="form-control">
      <div *ngIf="vehicleForm.get('fabricationDate')?.touched && vehicleForm.get('fabricationDate')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('fabricationDate')?.errors?.['required']">Fabrication date is required.</small>
      </div>
    </div>
    <div class="form-group mb-3">
      <label for="fuelType">Fuel Type</label>
      <input id="fuelType" formControlName="fuelType" class="form-control">
      <div *ngIf="vehicleForm.get('fuelType')?.touched && vehicleForm.get('fuelType')?.invalid" class="text-danger">
        <small *ngIf="vehicleForm.get('fuelType')?.errors?.['required']">Fuel type is required.</small>
        <small *ngIf="vehicleForm.get('fuelType')?.errors?.['pattern']">Only letters are allowed.</small>
        <small *ngIf="vehicleForm.get('fuelType')?.errors?.['maxLength']">Max 15 characters allowed.</small>
      </div>
    </div>
    <!-- File Input for Image -->
    <div class="form-group mb-3">
      <label for="image">registration document</label>
      <input type="file" id="image" class="form-control" (change)="onFileSelected($event)">
    </div>

    <!-- Removed vehicleStatus and vehicleType inputs -->
    <!-- Vehicle Status Dropdown -->
    <div class="form-group mb-3">
      <label for="vehicleStatus">Vehicle Status</label>
      <select id="vehicleStatus" formControlName="vehicleStatus" class="form-control">
        <option value="" disabled selected>-- Select Vehicle Status --</option>
        <option *ngFor="let status of vehicleStatuses" [value]="status">
          {{ status }}
        </option>
      </select>
    </div>

    <!-- Vehicle Type Dropdown -->
    <div class="form-group mb-3">
      <label for="vehicleType">Vehicle Type</label>
      <select id="vehicleType" formControlName="vehicleType" class="form-control">
        <option value="" disabled selected>-- Select Vehicle Type --</option>
        <option *ngFor="let type of vehicleTypes" [value]="type">
          {{ type }}
        </option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary">
      {{ vehicleForm.value.id ? 'Update' : 'Add' }}
    </button>
  </form>
</div>
</div>
<app-footer-front></app-footer-front>
