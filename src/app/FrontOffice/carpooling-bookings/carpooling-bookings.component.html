<app-header-front></app-header-front>

<div class="container mt-5">
  <h2 class="text-center mb-4 text-primary fw-bold">
    ğŸ“‹ Booking Requests for Your Carpooling Rides
  </h2>

  <div *ngIf="bookings.length === 0" class="text-center text-muted fs-5">
    <p>No booking requests yet.</p>
  </div>

  <div *ngFor="let booking of bookings" class="card shadow border-0 mb-4">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-start flex-wrap">
        <div class="w-100 mb-3">
          <h5 class="fw-bold text-dark mb-2">
            ğŸš— <span class="fs-5">{{ booking.pickupLocation }}</span>
            <span class="mx-2 text-muted">â¡ï¸</span>
            <span class="fs-5">{{ booking.dropoffLocation }}</span>
          </h5>
          <p class="text-muted mb-2">
            ğŸ•’ <strong>{{ booking.departureTime | date:'fullDate' }} at {{ booking.departureTime | date:'shortTime' }}</strong>
          </p>
        </div>

        <div class="w-100 mb-2">
          <p class="mb-1">
            ğŸ‘¤ <span class="text-secondary">Passenger:</span>
            <strong>{{ booking.passengerName || booking.passengerId }}</strong>
          </p>
          
          <p class="mb-1">
            ğŸª‘ <span class="text-secondary">Seats Booked:</span> <strong>{{ booking.seatsBooked }}</strong>
          </p>
          <p class="mb-2">
            ğŸ“Œ <span class="text-secondary">Status:</span>
            <span class="badge px-3 py-2 rounded-pill"
              [ngClass]="{
                'bg-warning text-dark': booking.status === 'PENDING',
                'bg-success': booking.status === 'CONFIRMED'
              }">
              {{ booking.status }}
            </span>
          </p>
        </div>

        <div *ngIf="booking.status === 'PENDING'" class="text-end w-100 mt-2">
          <button class="btn btn-success btn-sm px-4 py-2" (click)="confirmBooking(booking.id!)">
            âœ… Confirm Booking
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer-front></app-footer-front>
