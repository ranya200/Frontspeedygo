<app-navbar-back></app-navbar-back>
<app-sidebar-back></app-sidebar-back>

<div class="container mt-4">
  <div class="row">
    <div class="offset-md-2 col-md-10">
      <h2 class="mb-4 text-center">ğŸ“¦ Fast Posts</h2>

      <!-- Dashboard button -->
      <div class="d-flex justify-content-end mb-4">
        <a class="btn btn-danger" routerLink="/admin">
          <i class="bi bi-speedometer2"></i> Dashboard
        </a>
      </div>

      <!-- Card View -->
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        <div class="col" *ngFor="let fastPost of fastPosts">
          <div class="card h-100 shadow">
            <div class="card-body">
              <h5 class="card-title">Receiver: {{ fastPost.receiverName }}</h5>
              <p class="card-text mb-1"><strong>ğŸ“ Address:</strong> {{ fastPost.receiverAddress }}</p>
              <p class="card-text mb-1"><strong>ğŸ“ Telephone:</strong> {{ fastPost.receiverTelNbr }}</p>
              <p class="card-text mb-1"><strong>âš–ï¸ Package Weight:</strong> {{ fastPost.packageWeight }} kg</p>
              <p class="card-text">
                <span class="badge"
                      [ngClass]="{
                        'bg-warning text-dark': fastPost.fastPostStatus === 'PENDING',
                        'bg-success': fastPost.fastPostStatus === 'APPROVED',
                        'bg-danger': fastPost.fastPostStatus === 'REJECTED'
                      }">
                  {{ fastPost.fastPostStatus }}
                </span>
              </p>
            </div>
            <div class="card-footer d-flex flex-wrap justify-content-center gap-2 bg-light">
              <button *ngIf="fastPost.fastPostStatus === 'PENDING'"
                      class="btn btn-sm btn-success"
                      (click)="approveFastPost(fastPost)">
                âœ… Approve
              </button>

              <button *ngIf="fastPost.fastPostStatus === 'PENDING'"
                      class="btn btn-sm btn-danger"
                      (click)="rejectFastPost(fastPost)">
                âŒ Reject
              </button>

              <a class="btn btn-sm btn-info" [routerLink]="['/fastposts/edit', fastPost.idF]">
                âœï¸ Edit
              </a>

              <button class="btn btn-sm btn-danger" (click)="deleteFastPost(fastPost.idF)">
                ğŸ—‘ï¸ Delete
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
